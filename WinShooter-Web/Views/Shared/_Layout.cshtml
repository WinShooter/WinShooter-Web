<html ng-app="winshooter">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="WinShooter, en sida för hantering av tävingar i fältskytte." />
    <meta name="viewport" content="width=device-width" />
    <title>WinShooter @ViewBag.CompetitionName</title>
    @Styles.Render("~/Content/styles")
    @Styles.Render("~/Content/cookieStyles.css")
    @Scripts.Render("~/bundles/modernizr")
    <base href="/">
</head>
<body ng-controller="AppController">
    <div>
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Visa menu</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                    <a class="navbar-brand" href="/" ng-click="openHome()">WinShooter</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li ng-class="{ active: isActive('/Home/Competition')}"><a href ng-show="shouldShowCompetitionLink" ng-click="openCompetition()">Tävling</a></li>
                        <li ng-class="{ active: isActive('/Home/Clubs')}"><a href ng-show="shouldShowEditClubsLink" ng-click="openClubs()">Klubbar</a></li>
                        <li ng-class="{ active: isActive('/Home/Weapons')}"><a href ng-show="shouldShowEditWeaponsLink" ng-click="openWeapons()">Vapen</a></li>
                        <li ng-class="{ active: isActive('/Home/Stations')}"><a href ng-show="shouldShowStationsLink" ng-click="openStations()">Stationer</a></li>
                        <li ng-class="{ active: isActive('/Home/Patrols')}"><a href ng-show="shouldShowStationsLink" ng-click="openPatrols()">Patruller</a></li>
                        <li ng-class="{ active: isActive('/Home/Competitors')}"><a href ng-show="shouldShowCompetitorsLink" ng-click="openCompetitors()">Tävlande</a></li>
                        <li ng-class="{ active: isActive('/Home/AddResults')}"><a href ng-show="shouldShowAddResultsLink" ng-click="openEnterResults()">Resultatinmatning</a></li>
                        <li ng-class="{ active: isActive('/Home/Results')}"><a href ng-show="shouldShowAddResultsLink" ng-click="openResults()">Resultat</a></li>
                        <li ng-class="{ active: isActive('/Home/EditCompetitionRights')}"><a href ng-show="shouldShowEditRightsLink">Rättigheter</a></li>

                        <li ng-class="{ active: isActive('/Home/About')}"><a href ng-show="shouldShowAboutLink" ng-click="openAbout()">Om WinShooter</a></li>
                        <li ng-class="{ active: isActive('/Home/Privacy')}"><a href ng-show="shouldShowPrivacyLink" ng-click="openPrivacy()">Privacy</a></li>
                        <li ng-class="{ active: isActive('/Account/Login')}">
                            <a href="/Account/Login" ng-show="shouldShowLoginLink">Logga in</a>
                            <a href="/api/auth/logout" target="_self" ng-show="sharedData.isLoggedIn">Logga ut</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="cookieMessageWrapper">
            <div id="cookieMessage">
                <a id="cookieClose" href="#">Stäng</a>
                <p><strong>WinShooter använder kakor ("cookies").</strong> Du kan läsa mer om hur vi använder dem <a href ng-click="openPrivacy()">här</a>.</p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="winshooter-template">
            @RenderBody()
        </div>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/angularjs")
    @Scripts.Render("~/bundles/angularjs-route")
    @Scripts.Render("~/bundles/angularjs-resource")
    @Scripts.Render("~/bundles/angularjs-bootstrapui")
    @Scripts.Render("~/bundles/angularjs-sanitize")
    @Scripts.Render("~/bundles/angulari18n/sv-se")
    @Scripts.Render("~/Scripts/App/common.js")
    @Scripts.Render("~/Scripts/App/AngularModules.js")
    @Scripts.Render("~/bundles/AppControllers")
    @Scripts.Render("~/Scripts/App/cookieScript.js")

    <!-- fallback for CDN -->
    <script>
        // Fallback to loading jQuery from a local path if the CDN is unavailable
        (window.jQuery === undefined && document.write('<script src="@Url.Content("~/Scripts/jquery-2.1.1.js")"><\/script>'));
    </script>

    <!-- The modal confirmation dialog -->
    <script type="text/ng-template" id="confirmationModalContent">
        <div class="modal-header">
            <h4 class="modal-title">{{header}}</h4>
        </div>
        <div class="modal-body">
            <p>
                {{body}}
            </p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-ng-click="ok()">Ja</button>
            <button type="button" class="btn btn-warning" data-ng-click="cancel()">Nej</button>
        </div>
    </script>

    <!-- The modal error dialog -->
    <script type="text/ng-template" id="errorModalContent">
        <div class="modal-header">
            <h4 class="modal-title">{{header}}</h4>
        </div>
        <div class="modal-body">
            <p ng-bind-html="body">
            </p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-ng-click="ok()">OK</button>
        </div>
    </script>

    <!-- The modal information dialog -->
    <script type="text/ng-template" id="informationModalContent">
        <div class="modal-header">
            <h4 class="modal-title">{{header}}</h4>
        </div>
        <div class="modal-body">
            <p ng-bind-html="body">
            </p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-ng-click="ok()">OK</button>
        </div>
    </script>

    @Scripts.Render("~/Scripts/App/error-reporter.js")
    @{ Html.RenderPartial("~/Views/Shared/_GoogleAnalytics.cshtml"); }
</body>

</html>

